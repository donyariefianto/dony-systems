@import 'tailwindcss';

@theme {
 /* Mendaftarkan Custom Easing agar bisa dipakai dengan class: ease-pro / ease-bounce */
 --ease-pro: cubic-bezier(0.16, 1, 0.3, 1);
 --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ============================================
   1. VARIABLES & THEME CONFIG
   ============================================ */
:root {
 /* Colors (HSL format allows opacity manipulation in Tailwind) */
 --primary-hue: 221;
 --sidebar-gradient: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
 --primary-gradient: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);

 /* Animation Timings */
 --dur-fast: 150ms;
 --dur-normal: 300ms;
 --dur-slow: 500ms;
}

/* ============================================
   2. BASE LAYER (HTML/Body Defaults)
   ============================================ */
@layer base {
 html {
  @apply h-full scroll-smooth antialiased;
 }

 body {
  @apply h-full bg-slate-50 text-slate-700 font-sans;
  background-image:
   radial-gradient(at 0% 0%, hsla(221, 100%, 96%, 1) 0, transparent 50%),
   radial-gradient(at 50% 0%, hsla(210, 100%, 98%, 1) 0, transparent 50%),
   radial-gradient(at 100% 0%, hsla(221, 100%, 96%, 1) 0, transparent 50%);
  background-attachment: fixed;
 }

 /* Headings Default */
 h1,
 h2,
 h3,
 h4,
 h5,
 h6 {
  @apply font-bold text-slate-800 tracking-tight;
 }
}

/* ============================================
   3. COMPONENTS LAYER (Reusable UI Elements)
   ============================================ */
@layer components {
 /* --- Interactive Cards --- */
 .hover-card {
  @apply transition-all duration-300 ease-pro 
           border border-gray-100 bg-white
           hover:-translate-y-1 hover:shadow-xl hover:border-blue-300/50;
  will-change: transform, box-shadow;
 }

 /* --- Forms & Inputs --- */
 .form-input,
 .form-select,
 .form-textarea {
  @apply w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5
           text-sm font-medium text-slate-700 transition-all duration-300 ease-pro
           focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10
           placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-400;
 }

 /* --- Buttons (Base Reset & Interaction) --- */
 .btn-interaction {
  @apply active:scale-95 transition-transform duration-150 ease-pro select-none;
 }

 /* --- Navigation Items --- */
 .nav-item {
  @apply relative rounded-xl mx-3 my-1 overflow-hidden
           transition-all duration-150 ease-pro
           active:scale-[0.98];
 }

 .nav-item.active {
  @apply shadow-lg shadow-blue-600/30 font-semibold text-white;
  background: var(--primary-gradient);
 }

 /* --- Custom Scrollbar --- */
 .custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 transparent;
  -webkit-overflow-scrolling: touch; /* Smooth scroll di iOS */
 }

 .custom-scrollbar::-webkit-scrollbar {
  @apply w-[5px] h-[5px];
 }

 .custom-scrollbar::-webkit-scrollbar-track {
  @apply bg-transparent;
 }

 .custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-slate-300 rounded-full transition-colors duration-300;
 }

 .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  @apply bg-slate-400;
 }

 /* --- Table Styles --- */
 .table-header {
  @apply bg-slate-50/90 backdrop-blur-sm text-slate-500 text-[11px] 
           uppercase tracking-wider font-bold px-5 py-4 border-b border-slate-200;
 }

 .table-row {
  @apply transition-colors duration-150 hover:bg-slate-50/80;
 }
}

/* ============================================
   4. UTILITIES LAYER (Animations & Helpers)
   ============================================ */
@layer utilities {
 /* --- Entrance Animation --- */
 .animate-in {
  animation: fadeUp var(--dur-slow) var(--ease-pro) forwards;
  opacity: 0;
 }

 @keyframes fadeUp {
  from {
   opacity: 0;
   transform: translateY(15px) scale(0.98);
  }
  to {
   opacity: 1;
   transform: translateY(0) scale(1);
  }
 }

 /* --- Skeleton Loading (Shimmer) --- */
 .skeleton {
  @apply bg-slate-100 bg-no-repeat;
  background-image: linear-gradient(
   90deg,
   rgba(255, 255, 255, 0) 0%,
   rgba(255, 255, 255, 0.6) 50%,
   rgba(255, 255, 255, 0) 100%
  );
  background-size: 200px 100%;
  animation: shimmer 2s infinite linear;
 }

 @keyframes shimmer {
  0% {
   background-position: -200px 0;
  }
  100% {
   background-position: calc(100% + 200px) 0;
  }
 }

 /* --- Glassmorphism --- */
 .glass {
  @apply bg-white/70 backdrop-blur-md border border-white/50;
 }

 /* --- Mobile Optimized Touch Targets --- */
 .touch-target {
  @apply min-h-[44px] min-w-[44px];
 }
}

/* ============================================
   5. MEDIA QUERY OVERRIDES (Specific Fixes)
   ============================================ */
@media (max-width: 1024px) {
 #sidebar {
  z-index: 50;
 }

 button,
 input,
 select,
 .nav-item {
  @apply min-h-[44px];
 }

 .pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
 }
}

#splash-progress {
 transition: none !important;
 transform-origin: left;
 will-change: width;
}

@keyframes mesh-float {
 0% {
  transform: translate(0, 0) scale(1);
 }
 50% {
  transform: translate(5%, 5%) scale(1.05);
 }
 100% {
  transform: translate(-2%, 8%) scale(1);
 }
}

.animate-pulse-slow {
 animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

#splash-content {
 backface-visibility: hidden;
 -webkit-font-smoothing: antialiased;
}

@keyframes float-slow {
 0%,
 100% {
  transform: translateY(0px) translateX(0px) scale(1);
  opacity: 0.2;
 }
 25% {
  transform: translateY(-15px) translateX(10px) scale(1.02);
  opacity: 0.25;
 }
 50% {
  transform: translateY(5px) translateX(-10px) scale(0.98);
  opacity: 0.2;
 }
 75% {
  transform: translateY(-5px) translateX(-5px) scale(1.01);
  opacity: 0.25;
 }
}

@keyframes pulse-subtle {
 0%,
 100% {
  opacity: 0.05;
  transform: scale(1);
 }
 50% {
  opacity: 0.1;
  transform: scale(1.02);
 }
}

@keyframes glow {
 0%,
 100% {
  opacity: 0.3;
  filter: blur(20px);
 }
 50% {
  opacity: 0.5;
  filter: blur(25px);
 }
}

@keyframes shimmer {
 0% {
  transform: translateX(-100%);
  opacity: 0.3;
 }
 50% {
  opacity: 0.6;
 }
 100% {
  transform: translateX(100%);
  opacity: 0.3;
 }
}

@keyframes breathe {
 0%,
 100% {
  opacity: 0.7;
  transform: scale(1);
 }
 50% {
  opacity: 1;
  transform: scale(1.02);
 }
}

@keyframes fadeInUp {
 from {
  opacity: 0;
  transform: translateY(20px);
 }
 to {
  opacity: 1;
  transform: translateY(0);
 }
}

/* Apply Animations */
.animate-float-slow {
 animation: float-slow 20s ease-in-out infinite;
}

.animate-pulse-subtle {
 animation: pulse-subtle 10s ease-in-out infinite;
}

.animate-glow {
 animation: glow 4s ease-in-out infinite;
}

.animate-shimmer {
 animation: shimmer 3s infinite;
}

.animate-breathe {
 animation: breathe 3s ease-in-out infinite;
}

.animate-fade-in-up {
 animation: fadeInUp 0.8s ease-out forwards;
}

/* Smooth transitions */
#splash-screen {
 animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
 from {
  opacity: 0;
 }
 to {
  opacity: 1;
 }
}

/* Custom gradient utilities */
.bg-radial-gradient {
 background-image: radial-gradient(var(--tw-gradient-stops));
}
