<!DOCTYPE html>
<html lang="id">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
   Sistem Pembukuan Akuntansi Profesional
  </title>
  <link
   rel="stylesheet"
   href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <style>
   /* Reset dan Base Styles */
   
   * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
   }
   
   body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #333;
    line-height: 1.6;
    min-height: 100vh;
   }
   
   .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
   }
   
   /* Header Styles */
   
   header {
    background: white;
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
   }
   
   .logo {
    display: flex;
    align-items: center;
    gap: 15px;
   }
   
   .logo i {
    font-size: 2.5rem;
    color: #4f46e5;
    background: linear-gradient(135deg, #4f46e5 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
   }
   
   .logo-text h1 {
    font-size: 1.8rem;
    color: #1f2937;
    margin-bottom: 5px;
   }
   
   .logo-text p {
    color: #6b7280;
    font-size: 0.9rem;
   }
   
   .period-selector {
    display: flex;
    gap: 10px;
    align-items: center;
   }
   
   .period-selector select {
    padding: 8px 15px;
    border: 2px solid #d1d5db;
    border-radius: 8px;
    background: white;
    font-weight: 500;
   }
   
   /* Navigation Tabs */
   
   .nav-tabs {
    display: flex;
    background: white;
    border-radius: 15px;
    padding: 10px;
    margin-bottom: 30px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
   }
   
   .tab {
    padding: 15px 25px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    white-space: nowrap;
   }
   
   .tab:hover {
    background: #f3f4f6;
   }
   
   .tab.active {
    background: linear-gradient(135deg, #4f46e5 0%, #8b5cf6 100%);
    color: white;
   }
   
   .tab i {
    font-size: 1.2rem;
   }
   
   /* Main Content */
   
   .content {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 30px;
    margin-bottom: 30px;
   }
   
   @media (max-width: 1024px) {
    .content {
     grid-template-columns: 1fr;
    }
   }
   
   /* Dashboard Cards */
   
   .dashboard-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
   }
   
   .card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
   }
   
   .card:hover {
    transform: translateY(-5px);
   }
   
   .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
   }
   
   .card-title {
    font-size: 0.9rem;
    color: #6b7280;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
   }
   
   .card-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 10px;
   }
   
   .card-change {
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 5px;
   }
   
   .positive {
    color: #10b981;
   }
   
   .negative {
    color: #ef4444;
   }
   
   /* Tables */
   
   .table-container {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    overflow-x: auto;
   }
   
   table {
    width: 100%;
    border-collapse: collapse;
   }
   
   th {
    background: #f9fafb;
    padding: 15px;
    text-align: left;
    font-weight: 600;
    color: #374151;
    border-bottom: 2px solid #e5e7eb;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
   }
   
   td {
    padding: 15px;
    border-bottom: 1px solid #e5e7eb;
    color: #4b5563;
   }
   
   tr:hover {
    background: #f9fafb;
   }
   
   .amount {
    font-weight: 600;
    font-family: 'Courier New', monospace;
    text-align: right;
   }
   
   .debit {
    color: #10b981;
   }
   
   .credit {
    color: #ef4444;
   }
   
   /* Sidebar */
   
   .sidebar {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    height: fit-content;
   }
   
   .sidebar-title {
    font-size: 1.2rem;
    color: #1f2937;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 10px;
   }
   
   .sidebar-title i {
    color: #4f46e5;
   }
   
   /* Forms */
   
   .form-group {
    margin-bottom: 20px;
   }
   
   label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #4b5563;
    font-size: 0.9rem;
   }
   
   input,
   select,
   textarea {
    width: 100%;
    padding: 12px;
    border: 2px solid #d1d5db;
    border-radius: 8px;
    font-size: 0.95rem;
    transition: border-color 0.3s ease;
   }
   
   input:focus,
   select:focus,
   textarea:focus {
    outline: none;
    border-color: #4f46e5;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
   }
   
   .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
   }
   
   .btn {
    padding: 12px 24px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
   }
   
   .btn-primary {
    background: linear-gradient(135deg, #4f46e5 0%, #8b5cf6 100%);
    color: white;
    width: 100%;
   }
   
   .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(79, 70, 229, 0.2);
   }
   
   .btn-secondary {
    background: #f3f4f6;
    color: #374151;
    border: 2px solid #d1d5db;
   }
   
   .btn-secondary:hover {
    background: #e5e7eb;
   }
   
   /* Chart Container */
   
   .chart-container {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
   }
   
   /* Modals */
   
   .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
   }
   
   .modal-content {
    background: white;
    border-radius: 15px;
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    animation: modalSlideIn 0.3s ease;
   }
   
   @keyframes modalSlideIn {
    from {
     opacity: 0;
     transform: translateY(-30px);
    }
   
    to {
     opacity: 1;
     transform: translateY(0);
    }
   }
   
   .modal-header {
    padding: 25px;
    border-bottom: 2px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
   }
   
   .modal-body {
    padding: 25px;
   }
   
   .modal-footer {
    padding: 25px;
    border-top: 2px solid #e5e7eb;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
   }
   
   /* Status Indicators */
   
   .status {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
   }
   
   .status-paid {
    background: #d1fae5;
    color: #065f46;
   }
   
   .status-pending {
    background: #fef3c7;
    color: #92400e;
   }
   
   .status-overdue {
    background: #fee2e2;
    color: #991b1b;
   }
   
   /* Badges */
   
   .badge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
   }
   
   .badge-income {
    background: #d1fae5;
    color: #065f46;
   }
   
   .badge-expense {
    background: #fee2e2;
    color: #991b1b;
   }
   
   .badge-asset {
    background: #dbeafe;
    color: #3730a3;
   }
   
   .badge-liability {
    background: #fce7f3;
    color: #831843;
   }
   
   /* Footer */
   
   footer {
    text-align: center;
    padding: 20px;
    color: white;
    font-size: 0.9rem;
    opacity: 0.9;
   }
   
   /* Print Styles */
   
   @media print {
    .nav-tabs,
    .sidebar,
    footer,
    .btn {
     display: none !important;
    }
   
    .container {
     padding: 0;
    }
   
    .table-container {
     box-shadow: none;
     padding: 0;
    }
   
    table {
     page-break-inside: avoid;
    }
   }
   
   /* Responsive Design */
   
   @media (max-width: 768px) {
    header {
     flex-direction: column;
     gap: 20px;
     text-align: center;
    }
   
    .form-row {
     grid-template-columns: 1fr;
    }
   
    .tab {
     padding: 12px 15px;
     font-size: 0.9rem;
    }
   
    .card-value {
     font-size: 1.5rem;
    }
   }
   
   /* Utility Classes */
   
   .text-center {
    text-align: center;
   }
   
   .text-right {
    text-align: right;
   }
   
   .mt-20 {
    margin-top: 20px;
   }
   
   .mb-20 {
    margin-bottom: 20px;
   }
   
   .p-20 {
    padding: 20px;
   }
   
   .hidden {
    display: none;
   }
  </style>
 </head>
 <body>
  <div class="container">
   <!-- Header -->
   <header>
    <div class="logo">
     <i class="fas fa-calculator"></i>
     <div class="logo-text">
      <h1>
       Smart Accounting System
      </h1>
      <p>
       Sistem Pembukuan Akuntansi Profesional
      </p>
     </div>
    </div>
    <div class="period-selector">
     <span>Periode:</span>
     <select id="periodSelect">
      <option value="2024-01">
       Januari 2024
      </option>
      <option value="2024-02" selected>
       Februari 2024
      </option>
      <option value="2024-03">
       Maret 2024
      </option>
      <option value="2024-Q1">
       Q1 2024
      </option>
      <option value="2024-FY">
       Tahun 2024
      </option>
     </select>
    </div>
   </header>

   <!-- Navigation Tabs -->
   <nav class="nav-tabs">
    <div class="tab active" data-tab="dashboard">
     <i class="fas fa-home"></i>Dashboard
    </div>
    <div class="tab" data-tab="jurnal">
     <i class="fas fa-book"></i>Jurnal Umum
    </div>
    <div class="tab" data-tab="buku-besar">
     <i class="fas fa-book-open"></i>Buku Besar
    </div>
    <div class="tab" data-tab="neraca">
     <i class="fas fa-balance-scale"></i>Neraca
    </div>
    <div class="tab" data-tab="labarugi">
     <i class="fas fa-chart-line"></i>Laba Rugi
    </div>
    <div class="tab" data-tab="aruskas">
     <i class="fas fa-money-bill-wave"></i>Arus Kas
    </div>
    <div class="tab" data-tab="ekuitas">
     <i class="fas fa-chart-pie"></i>Perubahan Ekuitas
    </div>
    <div class="tab" data-tab="laporan">
     <i class="fas fa-file-alt"></i>Laporan
    </div>
   </nav>

   <!-- Main Content Area -->
   <div class="content">
    <main>
     <!-- Dashboard -->
     <div id="dashboard" class="tab-content">
      <!-- Summary Cards -->
      <div class="dashboard-cards">
       <div class="card">
        <div class="card-header">
         <span class="card-title">Total Aset</span>
         <i class="fas fa-landmark" style="color: #4f46e5;"></i>
        </div>
        <div class="card-value">
         Rp 2.450.000.000
        </div>
        <div class="card-change positive">
         <i class="fas fa-arrow-up"></i>12.5% dari bulan lalu
        </div>
       </div>

       <div class="card">
        <div class="card-header">
         <span class="card-title">Total Liabilitas</span>
         <i class="fas fa-hand-holding-usd" style="color: #ef4444;"></i>
        </div>
        <div class="card-value">
         Rp 850.000.000
        </div>
        <div class="card-change negative">
         <i class="fas fa-arrow-down"></i>3.2% dari bulan lalu
        </div>
       </div>

       <div class="card">
        <div class="card-header">
         <span class="card-title">Pendapatan Bersih</span>
         <i class="fas fa-chart-line" style="color: #10b981;"></i>
        </div>
        <div class="card-value">
         Rp 425.000.000
        </div>
        <div class="card-change positive">
         <i class="fas fa-arrow-up"></i>18.7% dari bulan lalu
        </div>
       </div>

       <div class="card">
        <div class="card-header">
         <span class="card-title">Kas & Setara Kas</span>
         <i class="fas fa-wallet" style="color: #f59e0b;"></i>
        </div>
        <div class="card-value">
         Rp 320.000.000
        </div>
        <div class="card-change positive">
         <i class="fas fa-arrow-up"></i>8.3% dari bulan lalu
        </div>
       </div>
      </div>

      <!-- Recent Transactions -->
      <div class="table-container">
       <h3 style="margin-bottom: 20px; color: #1f2937;">
        <i class="fas fa-history"></i>Transaksi Terbaru
       </h3>
       <table>
        <thead>
         <tr>
          <th>
           Tanggal
          </th>
          <th>
           Keterangan
          </th>
          <th>
           Akun
          </th>
          <th>
           Debit
          </th>
          <th>
           Kredit
          </th>
          <th>
           Status
          </th>
         </tr>
        </thead>
        <tbody id="recentTransactions">
         <!-- Data akan diisi oleh JavaScript -->
        </tbody>
       </table>
      </div>
     </div>

     <!-- Jurnal Umum -->
     <div id="jurnal" class="tab-content hidden">
      <div class="table-container">
       <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h3 style="color: #1f2937;">
         <i class="fas fa-book"></i>Jurnal Umum
        </h3>
        <button class="btn btn-primary" onclick="openJournalModal()">
         <i class="fas fa-plus"></i>Tambah Jurnal
                            </button>
       </div>
       <table>
        <thead>
         <tr>
          <th>
           No. Jurnal
          </th>
          <th>
           Tanggal
          </th>
          <th>
           Keterangan
          </th>
          <th>
           Ref
          </th>
          <th>
           Akun Debit
          </th>
          <th>
           Debit
          </th>
          <th>
           Akun Kredit
          </th>
          <th>
           Kredit
          </th>
         </tr>
        </thead>
        <tbody id="journalEntries">
         <!-- Data akan diisi oleh JavaScript -->
        </tbody>
       </table>
      </div>
     </div>

     <!-- Buku Besar -->
     <div id="buku-besar" class="tab-content hidden">
      <div class="table-container">
       <h3 style="margin-bottom: 20px; color: #1f2937;">
        <i class="fas fa-book-open"></i>Buku Besar
       </h3>
       <div style="margin-bottom: 20px;">
        <select id="ledgerAccountSelect" style="width: 300px;">
         <option value="">
          Pilih Akun...
         </option>
         <!-- Akun akan diisi oleh JavaScript -->
        </select>
       </div>
       <div id="ledgerDetail">
        <!-- Detail buku besar akan ditampilkan di sini -->
       </div>
      </div>
     </div>

     <!-- Neraca -->
     <div id="neraca" class="tab-content hidden">
      <div class="table-container">
       <div style="text-align: center; margin-bottom: 30px;">
        <h2 style="color: #1f2937; margin-bottom: 5px;">
         NERACA
        </h2>
        <p style="color: #6b7280;">
         Per 29 Februari 2024
        </p>
       </div>

       <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
        <!-- Aset -->
        <div>
         <h3
          style="color: #4f46e5; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #4f46e5;"
         >
          ASET
         </h3>
         <div id="balanceSheetAssets">
          <!-- Data aset akan diisi oleh JavaScript -->
         </div>
         <div style="margin-top: 20px; padding-top: 15px; border-top: 2px solid #e5e7eb;">
          <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem;">
           <span>Total Aset</span>
           <span>Rp 2.450.000.000</span>
          </div>
         </div>
        </div>

        <!-- Liabilitas & Ekuitas -->
        <div>
         <h3
          style="color: #ef4444; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #ef4444;"
         >
          LIABILITAS
         </h3>
         <div id="balanceSheetLiabilities">
          <!-- Data liabilitas akan diisi oleh JavaScript -->
         </div>

         <h3
          style="color: #10b981; margin: 30px 0 15px 0; padding-bottom: 10px; border-bottom: 2px solid #10b981;"
         >
          EKUITAS
         </h3>
         <div id="balanceSheetEquity">
          <!-- Data ekuitas akan diisi oleh JavaScript -->
         </div>

         <div style="margin-top: 20px; padding-top: 15px; border-top: 2px solid #e5e7eb;">
          <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem;">
           <span>Total Liabilitas & Ekuitas</span>
           <span>Rp 2.450.000.000</span>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>

     <!-- Laba Rugi -->
     <div id="labarugi" class="tab-content hidden">
      <div class="table-container">
       <div style="text-align: center; margin-bottom: 30px;">
        <h2 style="color: #1f2937; margin-bottom: 5px;">
         LAPORAN LABA RUGI
        </h2>
        <p style="color: #6b7280;">
         Periode 1 - 29 Februari 2024
        </p>
       </div>

       <div id="incomeStatement">
        <!-- Data laba rugi akan diisi oleh JavaScript -->
       </div>
      </div>
     </div>

     <!-- Arus Kas -->
     <div id="aruskas" class="tab-content hidden">
      <div class="table-container">
       <div style="text-align: center; margin-bottom: 30px;">
        <h2 style="color: #1f2937; margin-bottom: 5px;">
         LAPORAN ARUS KAS
        </h2>
        <p style="color: #6b7280;">
         Periode 1 - 29 Februari 2024
        </p>
       </div>

       <div id="cashFlowStatement">
        <!-- Data arus kas akan diisi oleh JavaScript -->
       </div>
      </div>
     </div>

     <!-- Perubahan Ekuitas -->
     <div id="ekuitas" class="tab-content hidden">
      <div class="table-container">
       <div style="text-align: center; margin-bottom: 30px;">
        <h2 style="color: #1f2937; margin-bottom: 5px;">
         LAPORAN PERUBAHAN EKUITAS
        </h2>
        <p style="color: #6b7280;">
         Periode 1 - 29 Februari 2024
        </p>
       </div>

       <div id="equityStatement">
        <!-- Data perubahan ekuitas akan diisi oleh JavaScript -->
       </div>
      </div>
     </div>

     <!-- Laporan -->
     <div id="laporan" class="tab-content hidden">
      <div class="dashboard-cards" style="margin-bottom: 30px;">
       <div class="card" onclick="generateReport('neraca')" style="cursor: pointer;">
        <div class="card-header">
         <span class="card-title">Neraca</span>
         <i class="fas fa-file-pdf" style="color: #ef4444;"></i>
        </div>
        <div class="card-value">
         Download PDF
        </div>
        <p style="color: #6b7280; font-size: 0.9rem;">
         Laporan posisi keuangan
        </p>
       </div>

       <div class="card" onclick="generateReport('labarugi')" style="cursor: pointer;">
        <div class="card-header">
         <span class="card-title">Laba Rugi</span>
         <i class="fas fa-file-excel" style="color: #10b981;"></i>
        </div>
        <div class="card-value">
         Download Excel
        </div>
        <p style="color: #6b7280; font-size: 0.9rem;">
         Laporan kinerja usaha
        </p>
       </div>

       <div class="card" onclick="generateReport('aruskas')" style="cursor: pointer;">
        <div class="card-header">
         <span class="card-title">Arus Kas</span>
         <i class="fas fa-file-invoice" style="color: #3b82f6;"></i>
        </div>
        <div class="card-value">
         Download PDF
        </div>
        <p style="color: #6b7280; font-size: 0.9rem;">
         Laporan arus kas
        </p>
       </div>

       <div class="card" onclick="generateReport('semua')" style="cursor: pointer;">
        <div class="card-header">
         <span class="card-title">Paket Lengkap</span>
         <i class="fas fa-file-archive" style="color: #f59e0b;"></i>
        </div>
        <div class="card-value">
         Download ZIP
        </div>
        <p style="color: #6b7280; font-size: 0.9rem;">
         Semua laporan
        </p>
       </div>
      </div>

      <!-- Laporan Custom -->
      <div class="table-container">
       <h3 style="margin-bottom: 20px; color: #1f2937;">
        <i class="fas fa-cog"></i>Laporan Custom
       </h3>
       <div class="form-row">
        <div class="form-group">
         <label>Jenis Laporan</label>
         <select id="reportType">
          <option value="jurnal">
           Jurnal Umum
          </option>
          <option value="buku-besar">
           Buku Besar
          </option>
          <option value="neraca">
           Neraca
          </option>
          <option value="labarugi">
           Laba Rugi
          </option>
         </select>
        </div>
        <div class="form-group">
         <label>Format</label>
         <select id="reportFormat">
          <option value="pdf">
           PDF
          </option>
          <option value="excel">
           Excel
          </option>
          <option value="csv">
           CSV
          </option>
          <option value="print">
           Print
          </option>
         </select>
        </div>
       </div>
       <div class="form-row">
        <div class="form-group">
         <label>Dari Tanggal</label>
         <input type="date" id="reportFrom" value="2024-02-01" />
        </div>
        <div class="form-group">
         <label>Sampai Tanggal</label>
         <input type="date" id="reportTo" value="2024-02-29" />
        </div>
       </div>
       <button class="btn btn-primary" onclick="generateCustomReport()">
        <i class="fas fa-download"></i>Generate Laporan
                        </button>
      </div>
     </div>
    </main>

    <!-- Sidebar -->
    <aside class="sidebar">
     <h3 class="sidebar-title">
      <i class="fas fa-plus-circle"></i>Transaksi Cepat
     </h3>

     <div class="form-group">
      <label>Jenis Transaksi</label>
      <select id="quickTransactionType">
       <option value="penjualan">
        Penjualan
       </option>
       <option value="pembelian">
        Pembelian
       </option>
       <option value="pengeluaran">
        Pengeluaran
       </option>
       <option value="penerimaan">
        Penerimaan Kas
       </option>
      </select>
     </div>

     <div class="form-group">
      <label>Jumlah</label>
      <input type="number" id="quickAmount" placeholder="Rp 0" />
     </div>

     <div class="form-group">
      <label>Keterangan</label>
      <input type="text" id="quickDescription" placeholder="Deskripsi transaksi" />
     </div>

     <button class="btn btn-primary" onclick="addQuickTransaction()">
      <i class="fas fa-check"></i>Simpan Transaksi
                </button>

     <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #e5e7eb;">
      <h3 class="sidebar-title" style="font-size: 1rem;">
       <i class="fas fa-chart-bar"></i>Rasio Keuangan
      </h3>
      <div style="margin-top: 15px;">
       <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <span>Current Ratio</span>
        <span style="font-weight: 600; color: #10b981;">2.85</span>
       </div>
       <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <span>Debt to Equity</span>
        <span style="font-weight: 600; color: #ef4444;">0.53</span>
       </div>
       <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <span>ROI</span>
        <span style="font-weight: 600; color: #10b981;">18.7%</span>
       </div>
       <div style="display: flex; justify-content: space-between;">
        <span>Gross Margin</span>
        <span style="font-weight: 600; color: #10b981;">42.3%</span>
       </div>
      </div>
     </div>
    </aside>
   </div>

   <!-- Modal Tambah Jurnal -->
   <div id="journalModal" class="modal">
    <div class="modal-content">
     <div class="modal-header">
      <h3 style="color: #1f2937;">
       <i class="fas fa-book"></i>Tambah Jurnal
      </h3>
      <button
       onclick="closeJournalModal()"
       style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #6b7280;"
      >
       <i class="fas fa-times"></i>
      </button>
     </div>
     <div class="modal-body">
      <div class="form-group">
       <label>Tanggal Transaksi</label>
       <input type="date" id="journalDate" value="2024-02-29" />
      </div>

      <div class="form-group">
       <label>No. Referensi</label>
       <input type="text" id="journalRef" placeholder="INV-2024-001" />
      </div>

      <div class="form-group">
       <label>Keterangan</label>
       <textarea id="journalDescription" rows="3" placeholder="Deskripsi transaksi..."></textarea>
      </div>

      <h4 style="margin: 20px 0 10px 0; color: #4b5563;">
       Entri Jurnal
      </h4>

      <div id="journalEntriesContainer">
       <div class="form-row journal-entry">
        <div class="form-group">
         <label>Akun Debit</label>
         <select class="debit-account">
          <option value="">
           Pilih akun...
          </option>
         </select>
        </div>
        <div class="form-group">
         <label>Jumlah Debit</label>
         <input type="number" class="debit-amount" placeholder="Rp 0" />
        </div>
       </div>

       <div class="form-row journal-entry">
        <div class="form-group">
         <label>Akun Kredit</label>
         <select class="credit-account">
          <option value="">
           Pilih akun...
          </option>
         </select>
        </div>
        <div class="form-group">
         <label>Jumlah Kredit</label>
         <input type="number" class="credit-amount" placeholder="Rp 0" />
        </div>
       </div>
      </div>

      <button class="btn btn-secondary" onclick="addJournalEntry()" style="margin-top: 10px;">
       <i class="fas fa-plus"></i>Tambah Entri
                    </button>
     </div>
     <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeJournalModal()">
       Batal
                    </button>
      <button class="btn btn-primary" onclick="saveJournal()">
       <i class="fas fa-save"></i>Simpan Jurnal
                    </button>
     </div>
    </div>
   </div>
  </div>

  <footer>
   <p>
    &copy; 2024 Smart Accounting System. Hak Cipta Dilindungi.
   </p>
   <p style="font-size: 0.8rem; margin-top: 5px;">
    Versi 2.1.0 | Last Update: 29 Februari 2024
   </p>
  </footer>

  <script>
   // Data Akun Chart of Accounts
   const chartOfAccounts = {
    "1-1000": {
     code: "1-1000",
     name: "Kas dan Bank",
     type: "asset",
     category: "Aset Lancar"
    },
    "1-1100": {
     code: "1-1100",
     name: "Kas Kecil",
     type: "asset",
     category: "Aset Lancar"
    },
    "1-1200": {
     code: "1-1200",
     name: "Bank BCA",
     type: "asset",
     category: "Aset Lancar"
    },
    "1-2000": {
     code: "1-2000",
     name: "Piutang Usaha",
     type: "asset",
     category: "Aset Lancar"
    },
    "1-3000": {
     code: "1-3000",
     name: "Persediaan",
     type: "asset",
     category: "Aset Lancar"
    },
    "1-4000": {
     code: "1-4000",
     name: "Perlengkapan",
     type: "asset",
     category: "Aset Lancar"
    },
    "2-1000": {
     code: "2-1000",
     name: "Tanah",
     type: "asset",
     category: "Aset Tetap"
    },
    "2-1100": {
     code: "2-1100",
     name: "Bangunan",
     type: "asset",
     category: "Aset Tetap"
    },
    "2-1200": {
     code: "2-1200",
     name: "Kendaraan",
     type: "asset",
     category: "Aset Tetap"
    },
    "2-1300": {
     code: "2-1300",
     name: "Peralatan Kantor",
     type: "asset",
     category: "Aset Tetap"
    },
    "3-1000": {
     code: "3-1000",
     name: "Hutang Usaha",
     type: "liability",
     category: "Liabilitas Jangka Pendek"
    },
    "3-1100": {
     code: "3-1100",
     name: "Hutang Bank",
     type: "liability",
     category: "Liabilitas Jangka Panjang"
    },
    "3-1200": {
     code: "3-1200",
     name: "Hutang Pajak",
     type: "liability",
     category: "Liabilitas Jangka Pendek"
    },
    "4-1000": {
     code: "4-1000",
     name: "Modal Pemilik",
     type: "equity",
     category: "Ekuitas"
    },
    "4-1100": {
     code: "4-1100",
     name: "Prive",
     type: "equity",
     category: "Ekuitas"
    },
    "4-1200": {
     code: "4-1200",
     name: "Laba Ditahan",
     type: "equity",
     category: "Ekuitas"
    },
    "5-1000": {
     code: "5-1000",
     name: "Penjualan",
     type: "revenue",
     category: "Pendapatan"
    },
    "5-1100": {
     code: "5-1100",
     name: "Pendapatan Jasa",
     type: "revenue",
     category: "Pendapatan"
    },
    "6-1000": {
     code: "6-1000",
     name: "Harga Pokok Penjualan",
     type: "expense",
     category: "Beban Pokok"
    },
    "6-2000": {
     code: "6-2000",
     name: "Beban Gaji",
     type: "expense",
     category: "Beban Operasional"
    },
    "6-2100": {
     code: "6-2100",
     name: "Beban Sewa",
     type: "expense",
     category: "Beban Operasional"
    },
    "6-2200": {
     code: "6-2200",
     name: "Beban Listrik",
     type: "expense",
     category: "Beban Operasional"
    },
    "6-2300": {
     code: "6-2300",
     name: "Beban Telepon",
     type: "expense",
     category: "Beban Operasional"
    },
    "6-2400": {
     code: "6-2400",
     name: "Beban Transportasi",
     type: "expense",
     category: "Beban Operasional"
    },
    "6-2500": {
     code: "6-2500",
     name: "Beban Penyusutan",
     type: "expense",
     category: "Beban Operasional"
    }
   };
   // Data Transaksi Contoh

   const sampleTransactions = [ {
    id: 1,
    date: "2024-02-28",
    desc: "Penjualan tunai produk A",
    account: "Kas",
    debit: 5e6,
    credit: 0,
    status: "paid"
   }, {
    id: 2,
    date: "2024-02-27",
    desc: "Pembelian bahan baku",
    account: "Persediaan",
    debit: 25e5,
    credit: 0,
    status: "paid"
   }, {
    id: 3,
    date: "2024-02-26",
    desc: "Bayar gaji karyawan",
    account: "Beban Gaji",
    debit: 0,
    credit: 15e6,
    status: "paid"
   }, {
    id: 4,
    date: "2024-02-25",
    desc: "Penerimaan piutang",
    account: "Bank",
    debit: 75e5,
    credit: 0,
    status: "paid"
   }, {
    id: 5,
    date: "2024-02-24",
    desc: "Bayar tagihan listrik",
    account: "Beban Listrik",
    debit: 0,
    credit: 125e4,
    status: "paid"
   } ];

   const sampleJournalEntries = [ {
    id: "J-2024-001",
    date: "2024-02-01",
    desc: "Pembelian peralatan kantor",
    ref: "PO-001",
    debitAcc: "Peralatan Kantor",
    debit: 15e6,
    creditAcc: "Bank",
    credit: 15e6
   }, {
    id: "J-2024-002",
    date: "2024-02-05",
    desc: "Penjualan tunai",
    ref: "INV-001",
    debitAcc: "Kas",
    debit: 25e6,
    creditAcc: "Penjualan",
    credit: 25e6
   }, {
    id: "J-2024-003",
    date: "2024-02-10",
    desc: "Pembayaran gaji",
    ref: "SLIP-001",
    debitAcc: "Beban Gaji",
    debit: 125e5,
    creditAcc: "Bank",
    credit: 125e5
   }, {
    id: "J-2024-004",
    date: "2024-02-15",
    desc: "Pembelian persediaan",
    ref: "PO-002",
    debitAcc: "Persediaan",
    debit: 85e5,
    creditAcc: "Hutang Usaha",
    credit: 85e5
   }, {
    id: "J-2024-005",
    date: "2024-02-20",
    desc: "Penyusutan peralatan",
    ref: "DEP-001",
    debitAcc: "Beban Penyusutan",
    debit: 125e4,
    creditAcc: "Akumulasi Penyusutan",
    credit: 125e4
   } ];
   // Format Rupiah

   function formatRupiah(amount) {
    return new Intl.NumberFormat("id-ID", {
     style: "currency",
     currency: "IDR",
     minimumFractionDigits: 0
    }).format(amount);
   }
   // Inisialisasi

   document.addEventListener("DOMContentLoaded", function() {
    loadRecentTransactions();
    loadJournalEntries();
    initializeAccountSelects();
    loadBalanceSheet();
    loadIncomeStatement();
    loadCashFlowStatement();
    loadEquityStatement();
    // Tab navigation
    document.querySelectorAll(".tab").forEach(tab => {
     tab.addEventListener("click", function() {
      const tabId = this.dataset.tab;
      // Update active tab
      document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
      this.classList.add("active");
      // Show selected content
      document.querySelectorAll(".tab-content").forEach(content => {
       content.classList.add("hidden");
      });
      document.getElementById(tabId).classList.remove("hidden");
     });
    });
    // Period selector
    document.getElementById("periodSelect").addEventListener("change", function() {
     updateReportsByPeriod(this.value);
    });
    // Ledger account selector
    document.getElementById("ledgerAccountSelect").addEventListener("change", function() {
     loadLedgerDetail(this.value);
    });
   });
   // Load Recent Transactions

   function loadRecentTransactions() {
    const tbody = document.getElementById("recentTransactions");
    tbody.innerHTML = "";
    sampleTransactions.forEach(transaction => {
     const row = document.createElement("tr");
     let statusClass = "";
     let statusText = "";
     switch (transaction.status) {
     case "paid":
      statusClass = "status-paid";
      statusText = "Lunas";
      break;

     case "pending":
      statusClass = "status-pending";
      statusText = "Menunggu";
      break;

     case "overdue":
      statusClass = "status-overdue";
      statusText = "Jatuh Tempo";
      break;
     }
     row.innerHTML = `
                             <td>${transaction.date}</td>
                             <td>${transaction.desc}</td>
                             <td>${transaction.account}</td>
                             <td class="amount debit">${transaction.debit > 0 ? formatRupiah(transaction.debit) : ""}</td>
                             <td class="amount credit">${transaction.credit > 0 ? formatRupiah(transaction.credit) : ""}</td>
                             <td><span class="status ${statusClass}">${statusText}</span></td>
                         `;
     tbody.appendChild(row);
    });
   }
   // Load Journal Entries

   function loadJournalEntries() {
    const tbody = document.getElementById("journalEntries");
    tbody.innerHTML = "";
    sampleJournalEntries.forEach(journal => {
     const row = document.createElement("tr");
     row.innerHTML = `
                             <td>${journal.id}</td>
                             <td>${journal.date}</td>
                             <td>${journal.desc}</td>
                             <td>${journal.ref}</td>
                             <td>${journal.debitAcc}</td>
                             <td class="amount debit">${formatRupiah(journal.debit)}</td>
                             <td>${journal.creditAcc}</td>
                             <td class="amount credit">${formatRupiah(journal.credit)}</td>
                         `;
     tbody.appendChild(row);
    });
   }
   // Initialize Account Selects

   function initializeAccountSelects() {
    const ledgerSelect = document.getElementById("ledgerAccountSelect");
    const debitSelects = document.querySelectorAll(".debit-account");
    const creditSelects = document.querySelectorAll(".credit-account");
    // Clear existing options
    ledgerSelect.innerHTML = '<option value="">Pilih Akun...</option>';
    // Add options from chart of accounts
    Object.values(chartOfAccounts).forEach(account => {
     const option = document.createElement("option");
     option.value = account.code;
     option.textContent = `${account.code} - ${account.name}`;
     ledgerSelect.appendChild(option);
     // Also add to debit and credit selects in modal
     debitSelects.forEach(select => {
      const debitOption = document.createElement("option");
      debitOption.value = account.code;
      debitOption.textContent = `${account.code} - ${account.name}`;
      select.appendChild(debitOption.cloneNode(true));
     });
     creditSelects.forEach(select => {
      const creditOption = document.createElement("option");
      creditOption.value = account.code;
      creditOption.textContent = `${account.code} - ${account.name}`;
      select.appendChild(creditOption.cloneNode(true));
     });
    });
   }
   // Load Ledger Detail

   function loadLedgerDetail(accountCode) {
    const ledgerDetail = document.getElementById("ledgerDetail");
    if (!accountCode) {
     ledgerDetail.innerHTML = '<p style="text-align: center; color: #6b7280;">Pilih akun untuk melihat detail buku besar</p>';
     return;
    }
    const account = chartOfAccounts[accountCode];
    const sampleLedgerEntries = [ {
     date: "2024-02-01",
     ref: "J-001",
     desc: "Saldo Awal",
     debit: 0,
     credit: 0,
     balance: 5e7
    }, {
     date: "2024-02-05",
     ref: "J-002",
     desc: "Penjualan tunai",
     debit: 25e6,
     credit: 0,
     balance: 75e6
    }, {
     date: "2024-02-10",
     ref: "J-003",
     desc: "Pembayaran gaji",
     debit: 0,
     credit: 125e5,
     balance: 625e5
    }, {
     date: "2024-02-15",
     ref: "J-004",
     desc: "Pembelian persediaan",
     debit: 0,
     credit: 85e5,
     balance: 54e6
    }, {
     date: "2024-02-20",
     ref: "J-005",
     desc: "Penerimaan piutang",
     debit: 15e6,
     credit: 0,
     balance: 69e6
    } ];
    let html = `
                         <h4 style="margin-bottom: 20px; color: #4b5563;">
                             Buku Besar: ${account.code} - ${account.name}
                         </h4>
                         <div style="margin-bottom: 20px;">
                             <span class="badge ${getBadgeClass(account.type)}">${getAccountTypeName(account.type)}</span>
                             <span style="margin-left: 10px; color: #6b7280;">${account.category}</span>
                         </div>
                         <table>
                             <thead>
                                 <tr>
                                     <th>Tanggal</th>
                                     <th>No. Ref</th>
                                     <th>Keterangan</th>
                                     <th>Debit</th>
                                     <th>Kredit</th>
                                     <th>Saldo</th>
                                 </tr>
                             </thead>
                             <tbody>
                     `;
    sampleLedgerEntries.forEach(entry => {
     html += `
                             <tr>
                                 <td>${entry.date}</td>
                                 <td>${entry.ref}</td>
                                 <td>${entry.desc}</td>
                                 <td class="amount debit">${entry.debit > 0 ? formatRupiah(entry.debit) : ""}</td>
                                 <td class="amount credit">${entry.credit > 0 ? formatRupiah(entry.credit) : ""}</td>
                                 <td class="amount" style="font-weight: 700;">${formatRupiah(entry.balance)}</td>
                             </tr>
                         `;
    });
    html += `
                             </tbody>
                             <tfoot>
                                 <tr>
                                     <td colspan="3" style="text-align: right; font-weight: 700;">Total:</td>
                                     <td class="amount debit">${formatRupiah(4e7)}</td>
                                     <td class="amount credit">${formatRupiah(21e6)}</td>
                                     <td class="amount" style="font-weight: 700;">${formatRupiah(69e6)}</td>
                                 </tr>
                             </tfoot>
                         </table>
                     `;
    ledgerDetail.innerHTML = html;
   }
   // Load Balance Sheet

   function loadBalanceSheet() {
    const assetsDiv = document.getElementById("balanceSheetAssets");
    const liabilitiesDiv = document.getElementById("balanceSheetLiabilities");
    const equityDiv = document.getElementById("balanceSheetEquity");
    // Sample data
    const assets = [ {
     name: "Kas dan Setara Kas",
     amount: 32e7
    }, {
     name: "Piutang Usaha",
     amount: 45e7
    }, {
     name: "Persediaan",
     amount: 58e7
    }, {
     name: "Aset Lancar Lainnya",
     amount: 125e6
    }, {
     name: "Peralatan",
     amount: 65e7
    }, {
     name: "Kendaraan",
     amount: 285e6
    }, {
     name: "Akumulasi Penyusutan",
     amount: -86e6
    } ];
    const liabilities = [ {
     name: "Hutang Usaha",
     amount: 325e6
    }, {
     name: "Hutang Bank Jangka Pendek",
     amount: 185e6
    }, {
     name: "Hutang Pajak",
     amount: 75e6
    }, {
     name: "Hutang Bank Jangka Panjang",
     amount: 265e6
    } ];
    const equity = [ {
     name: "Modal Saham",
     amount: 1e9
    }, {
     name: "Laba Ditahan",
     amount: 45e7
    }, {
     name: "Laba Tahun Berjalan",
     amount: 25e7
    } ];
    // Render Assets
    let assetsHtml = "";
    assets.forEach(asset => {
     const amountClass = asset.amount < 0 ? "credit" : "debit";
     assetsHtml += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                 <span>${asset.name}</span>
                                 <span class="amount ${amountClass}">${formatRupiah(Math.abs(asset.amount))}</span>
                             </div>
                         `;
    });
    assetsDiv.innerHTML = assetsHtml;
    // Render Liabilities
    let liabilitiesHtml = "";
    liabilities.forEach(liability => {
     liabilitiesHtml += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                 <span>${liability.name}</span>
                                 <span class="amount credit">${formatRupiah(liability.amount)}</span>
                             </div>
                         `;
    });
    liabilitiesDiv.innerHTML = liabilitiesHtml;
    // Render Equity
    let equityHtml = "";
    equity.forEach(item => {
     equityHtml += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                 <span>${item.name}</span>
                                 <span class="amount debit">${formatRupiah(item.amount)}</span>
                             </div>
                         `;
    });
    equityDiv.innerHTML = equityHtml;
   }
   // Load Income Statement

   function loadIncomeStatement() {
    const incomeStatementDiv = document.getElementById("incomeStatement");
    const data = {
     revenue: [ {
      name: "Penjualan Produk",
      amount: 875e6
     }, {
      name: "Pendapatan Jasa",
      amount: 325e6
     } ],
     cogs: [ {
      name: "Harga Pokok Penjualan",
      amount: 525e6
     } ],
     expenses: [ {
      name: "Beban Gaji",
      amount: 185e6
     }, {
      name: "Beban Sewa",
      amount: 45e6
     }, {
      name: "Beban Listrik & Air",
      amount: 125e5
     }, {
      name: "Beban Transportasi",
      amount: 185e5
     }, {
      name: "Beban Penyusutan",
      amount: 325e5
     }, {
      name: "Beban Lain-lain",
      amount: 15e6
     } ]
    };
    let html = `
                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #10b981; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Pendapatan
                             </h4>
                     `;
    data.revenue.forEach(item => {
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount debit">${formatRupiah(item.amount)}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Total Pendapatan</span>
                                 <span>${formatRupiah(12e8)}</span>
                             </div>
                         </div>

                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #ef4444; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Harga Pokok Penjualan
                             </h4>
                     `;
    data.cogs.forEach(item => {
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount credit">${formatRupiah(item.amount)}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Laba Kotor</span>
                                 <span>${formatRupiah(675e6)}</span>
                             </div>
                         </div>

                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #f59e0b; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Beban Operasional
                             </h4>
                     `;
    data.expenses.forEach(item => {
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount credit">${formatRupiah(item.amount)}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Total Beban Operasional</span>
                                 <span>${formatRupiah(3e8)}</span>
                             </div>
                         </div>

                         <div style="margin-top: 30px; padding-top: 20px; border-top: 3px double #e5e7eb;">
                             <div style="display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: 700;">
                                 <span>LABA BERSIH</span>
                                 <span style="color: #10b981;">${formatRupiah(375e6)}</span>
                             </div>
                         </div>
                     `;
    incomeStatementDiv.innerHTML = html;
   }
   // Load Cash Flow Statement

   function loadCashFlowStatement() {
    const cashFlowDiv = document.getElementById("cashFlowStatement");
    const data = {
     operating: [ {
      name: "Laba Bersih",
      amount: 375e6
     }, {
      name: "Penyusutan",
      amount: 325e5
     }, {
      name: "Kenaikan Piutang",
      amount: -85e6
     }, {
      name: "Kenaikan Persediaan",
      amount: -125e6
     }, {
      name: "Kenaikan Hutang Usaha",
      amount: 75e6
     } ],
     investing: [ {
      name: "Pembelian Peralatan",
      amount: -15e7
     }, {
      name: "Penjualan Aset",
      amount: 45e6
     } ],
     financing: [ {
      name: "Pinjaman Bank",
      amount: 2e8
     }, {
      name: "Pembayaran Hutang",
      amount: -85e6
     }, {
      name: "Prive Pemilik",
      amount: -5e7
     } ]
    };
    let html = `
                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #3b82f6; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Aktivitas Operasi
                             </h4>
                     `;
    data.operating.forEach(item => {
     const amountClass = item.amount >= 0 ? "debit" : "credit";
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount ${amountClass}">${formatRupiah(Math.abs(item.amount))}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Arus Kas dari Operasi</span>
                                 <span>${formatRupiah(275e6)}</span>
                             </div>
                         </div>

                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #8b5cf6; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Aktivitas Investasi
                             </h4>
                     `;
    data.investing.forEach(item => {
     const amountClass = item.amount >= 0 ? "debit" : "credit";
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount ${amountClass}">${formatRupiah(Math.abs(item.amount))}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Arus Kas dari Investasi</span>
                                 <span style="color: #ef4444;">${formatRupiah(-105e6)}</span>
                             </div>
                         </div>

                         <div style="margin-bottom: 30px;">
                             <h4 style="color: #10b981; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid #e5e7eb;">
                                 Aktivitas Pendanaan
                             </h4>
                     `;
    data.financing.forEach(item => {
     const amountClass = item.amount >= 0 ? "debit" : "credit";
     html += `
                             <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                 <span>${item.name}</span>
                                 <span class="amount ${amountClass}">${formatRupiah(Math.abs(item.amount))}</span>
                             </div>
                         `;
    });
    html += `
                             <div style="display: flex; justify-content: space-between; margin: 15px 0; padding-top: 15px; border-top: 2px solid #e5e7eb; font-weight: 600;">
                                 <span>Arus Kas dari Pendanaan</span>
                                 <span>${formatRupiah(65e6)}</span>
                             </div>
                         </div>

                         <div style="margin-top: 30px; padding-top: 20px; border-top: 3px double #e5e7eb;">
                             <div style="display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: 700;">
                                 <span>KENAIKAN BERSIH KAS</span>
                                 <span style="color: #10b981;">${formatRupiah(235e6)}</span>
                             </div>
                             <div style="display: flex; justify-content: space-between; margin-top: 10px; font-weight: 600;">
                                 <span>Saldo Kas Awal Periode</span>
                                 <span>${formatRupiah(85e6)}</span>
                             </div>
                             <div style="display: flex; justify-content: space-between; margin-top: 10px; padding-top: 10px; border-top: 2px solid #e5e7eb; font-size: 1.3rem; font-weight: 700;">
                                 <span>SALDO KAS AKHIR PERIODE</span>
                                 <span style="color: #3b82f6;">${formatRupiah(32e7)}</span>
                             </div>
                         </div>
                     `;
    cashFlowDiv.innerHTML = html;
   }
   // Load Equity Statement

   function loadEquityStatement() {
    const equityDiv = document.getElementById("equityStatement");
    const data = {
     beginning: [ {
      name: "Modal Saham",
      amount: 1e9
     }, {
      name: "Laba Ditahan",
      amount: 285e6
     } ],
     changes: [ {
      name: "Laba Bersih Periode",
      amount: 375e6
     }, {
      name: "Prive Pemilik",
      amount: -5e7
     }, {
      name: "Dividen",
      amount: -16e7
     } ]
    };
    let html = `
                         <table>
                             <thead>
                                 <tr>
                                     <th>Keterangan</th>
                                     <th>Modal Saham</th>
                                     <th>Laba Ditahan</th>
                                     <th>Total</th>
                                 </tr>
                             </thead>
                             <tbody>
                                 <tr>
                                     <td>Saldo Awal Periode</td>
                                     <td class="amount">${formatRupiah(1e9)}</td>
                                     <td class="amount">${formatRupiah(285e6)}</td>
                                     <td class="amount" style="font-weight: 700;">${formatRupiah(1285e6)}</td>
                                 </tr>
                                 <tr>
                                     <td>Laba Bersih Periode</td>
                                     <td class="amount"></td>
                                     <td class="amount debit">${formatRupiah(375e6)}</td>
                                     <td class="amount debit">${formatRupiah(375e6)}</td>
                                 </tr>
                                 <tr>
                                     <td>Prive Pemilik</td>
                                     <td class="amount"></td>
                                     <td class="amount credit">${formatRupiah(5e7)}</td>
                                     <td class="amount credit">${formatRupiah(5e7)}</td>
                                 </tr>
                                 <tr>
                                     <td>Dividen</td>
                                     <td class="amount"></td>
                                     <td class="amount credit">${formatRupiah(16e7)}</td>
                                     <td class="amount credit">${formatRupiah(16e7)}</td>
                                 </tr>
                                 <tr style="border-top: 2px solid #e5e7eb;">
                                     <td style="font-weight: 700;">Saldo Akhir Periode</td>
                                     <td class="amount" style="font-weight: 700;">${formatRupiah(1e9)}</td>
                                     <td class="amount" style="font-weight: 700;">${formatRupiah(45e7)}</td>
                                     <td class="amount" style="font-weight: 700;">${formatRupiah(145e7)}</td>
                                 </tr>
                             </tbody>
                         </table>
                     `;
    equityDiv.innerHTML = html;
   }
   // Modal Functions

   function openJournalModal() {
    document.getElementById("journalModal").style.display = "flex";
   }

   function closeJournalModal() {
    document.getElementById("journalModal").style.display = "none";
   }

   function addJournalEntry() {
    const container = document.getElementById("journalEntriesContainer");
    const entryCount = container.querySelectorAll(".journal-entry").length + 1;
    const entryDiv = document.createElement("div");
    entryDiv.className = "journal-entry";
    entryDiv.style.marginTop = "20px";
    entryDiv.style.paddingTop = "20px";
    entryDiv.style.borderTop = "1px dashed #e5e7eb";
    entryDiv.innerHTML = `
                         <div class="form-row">
                             <div class="form-group">
                                 <label>Akun Debit (Entri ${entryCount})</label>
                                 <select class="debit-account">
                                     <option value="">Pilih akun...</option>
                                 </select>
                             </div>
                             <div class="form-group">
                                 <label>Jumlah Debit</label>
                                 <input type="number" class="debit-amount" placeholder="Rp 0">
                             </div>
                         </div>
                         <div class="form-row">
                             <div class="form-group">
                                 <label>Akun Kredit (Entri ${entryCount})</label>
                                 <select class="credit-account">
                                     <option value="">Pilih akun...</option>
                                 </select>
                             </div>
                             <div class="form-group">
                                 <label>Jumlah Kredit</label>
                                 <input type="number" class="credit-amount" placeholder="Rp 0">
                             </div>
                         </div>
                     `;
    // Populate account options
    Object.values(chartOfAccounts).forEach(account => {
     const debitOption = document.createElement("option");
     debitOption.value = account.code;
     debitOption.textContent = `${account.code} - ${account.name}`;
     entryDiv.querySelector(".debit-account").appendChild(debitOption.cloneNode(true));
     const creditOption = document.createElement("option");
     creditOption.value = account.code;
     creditOption.textContent = `${account.code} - ${account.name}`;
     entryDiv.querySelector(".credit-account").appendChild(creditOption.cloneNode(true));
    });
    container.appendChild(entryDiv);
   }

   function saveJournal() {
    // Validasi
    const date = document.getElementById("journalDate").value;
    const ref = document.getElementById("journalRef").value;
    const desc = document.getElementById("journalDescription").value;
    if (!date || !desc) {
     alert("Harap isi semua field yang diperlukan");
     return;
    }
    // Hitung total debit dan kredit
    let totalDebit = 0;
    let totalCredit = 0;
    document.querySelectorAll(".journal-entry").forEach(entry => {
     const debitAmount = parseFloat(entry.querySelector(".debit-amount").value) || 0;
     const creditAmount = parseFloat(entry.querySelector(".credit-amount").value) || 0;
     totalDebit += debitAmount;
     totalCredit += creditAmount;
    });
    if (totalDebit !== totalCredit) {
     alert(`Total debit (${formatRupiah(totalDebit)}) harus sama dengan total kredit (${formatRupiah(totalCredit)})`);
     return;
    }
    // Simpan jurnal (dalam implementasi nyata, ini akan dikirim ke server)
    alert("Jurnal berhasil disimpan!");
    closeJournalModal();
    // Refresh tampilan jurnal
    loadJournalEntries();
   }
   // Quick Transaction

   function addQuickTransaction() {
    const type = document.getElementById("quickTransactionType").value;
    const amount = document.getElementById("quickAmount").value;
    const desc = document.getElementById("quickDescription").value;
    if (!amount || !desc) {
     alert("Harap isi jumlah dan keterangan");
     return;
    }
    // Simpan transaksi (dalam implementasi nyata, ini akan dikirim ke server)
    alert(`Transaksi ${type} sebesar ${formatRupiah(parseFloat(amount))} berhasil disimpan!`);
    // Reset form
    document.getElementById("quickAmount").value = "";
    document.getElementById("quickDescription").value = "";
    // Refresh data
    loadRecentTransactions();
   }
   // Report Generation

   function generateReport(type) {
    let message = "";
    switch (type) {
    case "neraca":
     message = "Laporan Neraca akan didownload dalam format PDF";
     break;

    case "labarugi":
     message = "Laporan Laba Rugi akan didownload dalam format Excel";
     break;

    case "aruskas":
     message = "Laporan Arus Kas akan didownload dalam format PDF";
     break;

    case "semua":
     message = "Paket lengkap semua laporan akan didownload dalam format ZIP";
     break;
    }
    alert(message);
    // Dalam implementasi nyata, ini akan memanggil API untuk generate report
   }

   function generateCustomReport() {
    const type = document.getElementById("reportType").value;
    const format = document.getElementById("reportFormat").value;
    const fromDate = document.getElementById("reportFrom").value;
    const toDate = document.getElementById("reportTo").value;
    alert(`Generating ${type} report in ${format} format from ${fromDate} to ${toDate}`);
    // Dalam implementasi nyata, ini akan memanggil API untuk generate custom report
   }
   // Update Reports by Period

   function updateReportsByPeriod(period) {
    alert(`Memuat data untuk periode: ${period}`);
    // Dalam implementasi nyata, ini akan memuat ulang data berdasarkan periode
   }
   // Helper Functions

   function getBadgeClass(type) {
    switch (type) {
    case "asset":
     return "badge-asset";

    case "liability":
     return "badge-liability";

    case "equity":
     return "badge-income";

    case "revenue":
     return "badge-income";

    case "expense":
     return "badge-expense";

    default:
     return "";
    }
   }

   function getAccountTypeName(type) {
    switch (type) {
    case "asset":
     return "Aset";

    case "liability":
     return "Liabilitas";

    case "equity":
     return "Ekuitas";

    case "revenue":
     return "Pendapatan";

    case "expense":
     return "Beban";

    default:
     return "Lainnya";
    }
   }
   // Print Functionality

   function printReport(reportId) {
    const printContent = document.getElementById(reportId).innerHTML;
    const originalContent = document.body.innerHTML;
    document.body.innerHTML = `
                         <html>
                             <head>
                                 <title>Laporan Akuntansi</title>
                                 <style>
                                     body { font-family: Arial, sans-serif; }
                                     table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
                                     th, td { padding: 10px; border: 1px solid #ddd; }
                                     th { background-color: #f5f5f5; }
                                     .text-right { text-align: right; }
                                     .total { font-weight: bold; }
                                 </style>
                             </head>
                             <body>
                                 <h1 style="text-align: center;">Laporan Akuntansi</h1>
                                 <div>${printContent}</div>
                             </body>
                         </html>
                     `;
    window.print();
    document.body.innerHTML = originalContent;
    location.reload();
   }
  </script>
 </body>
</html>
